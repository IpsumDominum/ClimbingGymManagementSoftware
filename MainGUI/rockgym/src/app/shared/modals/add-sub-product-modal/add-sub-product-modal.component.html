
<ng-container *ngIf="product_ref!=undefined;else noProductRef">
<ng-container *ngIf="mode=='edit' && sub_product_ref==undefined;else showNormal">
<button class="button2"(click)="alert('Please Select A Sub Product To Edit First.')">
        <svg *ngIf="mode=='add'"xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-square"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg> 
        <svg *ngIf="mode!='add'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>            
{{mode=='add' ? 'Add New' : 'Edit'}} Sub Product</button>
</ng-container>
<ng-template #showNormal>
<button class="button2" (click)="openModal(mode+'-sub-product-modal')">

        <svg *ngIf="mode=='add'"xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-square"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg> 
        <svg *ngIf="mode!='add'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>            
{{mode=='add' ? 'Add New' : 'Edit'}} Sub Product</button>
</ng-template>
</ng-container>
<ng-template #noProductRef>
<button class="button2" (click)="alert('Please Select A Parent Product First.')">
        <svg *ngIf="mode=='add'"xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-square"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg> 
        <svg *ngIf="mode!='add'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>            
{{mode=='add' ? 'Add New' : 'Edit'}} Sub Product</button>
</ng-template>


<modal id="{{mode}}-sub-product-modal" >
    <h1>Add a new sub product</h1>
    
    <div style="border:black solid 1px;">
        <!-----UPPER BOX----->
            <div style="display: flex;margin-bottom:20px;">
            <!---left BOX--->
            <div style="margin-left:20px;">
            <h1>Primary</h1>    
            Vendor <br><input type="text" [(ngModel)]="vendor" disabled/> <br>
            Product Name <br><input type="text" [(ngModel)]="productName" disabled/> <br>                            
            </div>
            <!----RIGHT BOX---->
            <div style="margin-left:20px;">
            <h1>Inventory Related</h1>
            Notes <br><input type="text" [(ngModel)]="notes"/> <br>        
            Size <br><input type="text" [(ngModel)]="size"/> <br>
            Color <br><input type="text" [(ngModel)]="color"/> <br>
            Stock <br><input type="number" [(ngModel)]="stock"/> <br>            
        <ng-container *ngIf="editPrice;else noEditPrice">
                    Price (NZD)<br> <input type="number" [(ngModel)]="price"/> 
        </ng-container>
        <ng-template #noEditPrice>
                Price (NZD) <br> <input type="number" [(ngModel)]="price" disabled/> 
        </ng-template>
        Edit Price <input type="checkbox" [(ngModel)]="editPrice">        
            </div>


            <div style="margin-left:110px;margin-top:30px;">
                    <img src="assets/img/logo2.png" style="width:300px;">
                </div>
        </div>
    </div>
    
<div style="float:right;">
        <button (click)="submit()">Submit</button>
            <button (click)="closeModal(mode+'-sub-product-modal');">Cancel</button>
        </div>

</modal>



